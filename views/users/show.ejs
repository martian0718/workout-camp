<%- include("../partials/header") %>




<div class = "row mt-5 pt-5">
    <div class = "col-md-4">
        <span class = "profilePic ml-5 mx-auto">
            <img class = "img-thumbnail img-fluid" src="<%=user.avatar%>" alt="Avatar picture">
        </span>
        
    </div>
    <div class = "col-md-6 d-flex align-items-start flex-column">
        <div class = "flex-row">
            <h1 style = "float: left;" class = "display-4"><%=user.username%></h1>
            <%if(currentUser && user.username == currentUser.username){%>
                <a class = "btn btn-outline-primary btn-sm ml-3 mt-4" href = "/users/<%=user.id%>/edit">Edit Profile</a>
                
            <%}%>
        
        </div>
        <h4><b><%=workouts.length%></b> workouts</h4>
        <h4 class = "pt-3"><%=user.firstName + " " + user.lastName%></h4>
        <p><%=user.bio%></p>
    </div>
    <div class = "col-md-2">

    </div>
</div>

<h2 class = "text-center"><%=user.firstName%>'s Workouts</h2>


    
<%if(workouts.length == 0) {%>
    <h3 class = "text-center mt-5">No Workouts Yet :(</h3>
                   
<%} else if(workouts.length==1){%>
    <div class = "row mt-3 pt-3">
        <%workouts.forEach(function(workout){%>
        <div class = "col-md-3">

        </div>
        <div class = "col-md-6">
            <div class = "card mb-4 d-flex flex-fill flex-column align-items-start">
                <div class = "card-title ml-3 mt-3">
                    <a class = "h4" style = "color: black;" href = "/workouts/<%=workout._id%>"><%=workout.name%></a>
                    <h6><em><%=workout.typeOfWorkout%></em></h6>
                </div>
                <p class = "card-text mb-3 px-3"><%=workout.description%></p>
                <p class = "ml-3 mt-auto">
                    <a href="/workouts/<%=workout._id%>" class = "btn btn-primary">Take me there!</a>
                </p>
            </div>
        </div>
        <div class = "col-md-3">

        </div>
    <%});%>
    </div>

<%} else {%>
    <div class = "row mt-3 pt-3">
        <div class = "card-group">
        <%workouts.forEach(function(workout){%>
            <div class = "col-md-4 col-sm-6 d-flex"> 
                <div class = "card mb-4 d-flex flex-fill flex-column align-items-start">
                    <div class = "card-title ml-3 mt-3">
                        <a class = "h4" style = "color: black;" href = "/workouts/<%=workout._id%>"><%=workout.name%></a>
                        <h6><em><%=workout.typeOfWorkout%></em></h6>
                    </div>
                    <p class = "card-text mb-3 px-3"><%=workout.description%></p>
                    <p class = "ml-3 mt-auto">
                        <a href="/workouts/<%=workout._id%>" class = "btn btn-primary">Take me there!</a>
                    </p>
                </div>
            </div>
        <%});%> 
        </div>
    </div>         
<%}%>
 

<%- include("../partials/footer") %>